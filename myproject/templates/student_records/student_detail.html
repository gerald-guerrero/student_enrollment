{% extends "base.html" %}
{% block content %}
    <h2 class="centeredItem">Student Details</h2>
    <table class="table table-striped table-bordered">
        <tr>
            <th class="rightItem">Student ID</th>
            <td>{{student.id}}</td>
        </tr>
        <tr>
            <th class="rightItem">First Name</th>
            <td>{{student.first_name}}</td>
        </tr>
        <tr>
            <th class="rightItem">Last Name</th>
            <td>{{student.last_name}}</td>
        </tr>
        <tr>
            <th class="rightItem">Major</th>
            <td>{{student.major}}</td>
        </tr>
        <tr>
            <th class="rightItem">Enrolled</th>
            <td>{{student.semester_enrolled}} {{student.year_enrolled}}</td>
        </tr>
    </table>
    <br>
    <table class="table table-striped table-bordered">
        <thead class="centeredItem">
            {% if request.user.is_staff %}
                <th>Enrolled Sections</th>
            {% else %}
                <th colspan="2">Enrolled Sections</th>
            {% endif %}
        </thead>
        <tbody>
            {% for section in student.sections.all %}
                <tr>
                    <td class="centeredItem">
                        {{ section }}
                    </td>
                    {% if not request.user.is_staff %}
                        <td>
                            <form class="centeredItem" method="post" action="{% url 'withdraw_section' pk=section.pk %}">
                                {% csrf_token %}
                                <button class="btn btn-danger" type="submit" name="withdraw">Withdraw</button>
                            </form>        
                        </td>
                    {% endif %}
                </tr>
            {% endfor %}
        </tbody>
    </table>
    <br>
    <table class="table table-bordered">
        <thead class="centeredItem"><th colspan="2">Student Options</th></thead>
        <tbody>
            <tr>
                <td class="centeredItem">
                    <a class="btn btn-primary" role="button" href="{% url 'student_update' pk=student.pk %}">Update Info</a>
                </td>
                <td class="centeredItem">
                    <a class="btn btn-warning" role="button" href="{% url 'student_delete' pk=student.pk %}">Delete</a>
                </td>
            </tr>
        </tbody>
    </table>
{% endblock %}